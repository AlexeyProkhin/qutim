if(NOT SYMBIAN)
	message(STATUS "Symbian integration will be skipped")
	return()
endif()

FILE( GLOB PLUGINS RELATIVE "${CMAKE_CURRENT_SOURCE_DIR}/" "${CMAKE_CURRENT_SOURCE_DIR}/*" )

FOREACH( PLUGIN ${PLUGINS} )
	IF( IS_DIRECTORY "${CMAKE_CURRENT_SOURCE_DIR}/${PLUGIN}" AND EXISTS "${CMAKE_CURRENT_SOURCE_DIR}/${PLUGIN}/CMakeLists.txt" )
		STRING( TOUPPER SYMBIAN_${PLUGIN} PLUGIN_NAME)
		OPTION( ${PLUGIN_NAME} "" ON )
		IF( ${PLUGIN_NAME} )
			MESSAGE( "+ symbian extension '${PLUGIN_NAME}' added to build" )
			ADD_SUBDIRECTORY( ${CMAKE_CURRENT_SOURCE_DIR}/${PLUGIN} ${CMAKE_CURRENT_BINARY_DIR}/${PLUGIN})
		ELSE( ${PLUGIN_NAME} )
			MESSAGE( "- symbian extension '${PLUGIN_NAME}' will be skipped" )
		ENDIF( ${PLUGIN_NAME} )
	ENDIF( IS_DIRECTORY "${CMAKE_CURRENT_SOURCE_DIR}/${PLUGIN}" AND EXISTS "${CMAKE_CURRENT_SOURCE_DIR}/${PLUGIN}/CMakeLists.txt" )
ENDFOREACH( PLUGIN )
